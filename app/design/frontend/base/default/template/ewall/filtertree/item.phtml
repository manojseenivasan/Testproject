<?php 
/**
 * @category    Ewall
 * @package     Ewall_FilterTree
 * @copyright   Copyright (c) http://www.ewalldev.com
 * @license     http://www.ewalldev.com/license  Proprietary License
 */
/** 
 * Template for showing options for filter as a list of radio buttons 
 * @author Ewall Team
 * Injected instead of standard catalog/layer/filter.phtml in Ewall_Filters_Block_Filter_Attribute init() method.
 * This template is overridden by copying (template body was pasted from catalog/layer/filter.phtml 
 * and modified as needed). All changes are marked with comments.
 */
/* @var $this Ewall_FilterTree_Block_Item */
/* @var $filters Ewall_Filters_Helper_Data */ $filters = Mage::helper(strtolower('Ewall_Filters'));
?>
<?php /* @var $_item Ewall_Filters_Model_Item */ $_item = $this->getItem(); ?>
<li <?php if ($_item->getMSelected()): ?>class="m-selected-ln-item"<?php endif; ?>>
    <div class="m-tree-item" id="m-tree-item-<?php echo $_item->getValue() ?>">
        <?php if ($_item->getMSelected()): ?>
        <span class="m-selected-filter-item"><?php echo $this->escapeHtml($_item->getLabel()) ?></span>
        <?php else : ?>
        <?php if ($_item->getCount() > 0): ?>
            <a href="<?php echo $this->urlEscape($_item->getReplaceUrl()) ?>"
               title="<?php echo $this->escapeHtml($_item->getLabel()) ?>"><?php echo $this->escapeHtml($_item->getLabel()) ?></a>
            <?php else: echo $this->escapeHtml($_item->getLabel()) ?>
            <?php endif; ?>
        <?php endif; ?>
        <?php if (Mage::getStoreConfigFlag('ewall_filters/display/count')) : ?>
            (<?php echo $_item->getCount() ?>)
        <?php endif; ?>
    </div>
    <?php if (count($this->getChild())) : ?>
    <ul>
        <?php foreach($this->getChild() as /* @var $childBlock Ewall_FilterTree_Block_Item */ $childBlock) : ?>
            <?php echo $childBlock->toHtml() ?>
        <?php endforeach ?>
    </ul>
    <?php endif; ?>
</li>